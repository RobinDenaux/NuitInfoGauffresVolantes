var handler = {};handler.socket = null;handler.isopen = false;handler.server = "127.0.0.1";handler.port = "9000";handler.name = null;handler.connect = function connect(name) {	console.log("Init connection to server "+this.server);	this.socket = new WebSocket("ws://"+this.server+":"+this.port);	this.socket.binaryType = "arraybuffer";	this.name = name;	this.socket.onopen = function() {	   console.log("Connected to server");	   handler.isopen = true;	   this.sendText("NewGame;"+name);	}	this.socket.onmessage = function(e) {	   if (typeof e.data == "string") {		  console.log("Text message received: " + e.data);	   } else {		  console.log("WARNING : Unexpected binary message received");	   }	}	this.socket.onclose = function(e) {	   console.log("Connection with server closed.");	   handler.socket = null;	   handler.isopen = false;	}};handler.sendText = function sendText(text) {	if (handler.isopen) {	   handler.socket.send(text);	   console.log("send : "+text);               	} else {	   console.log("WARNING : Connection not opened.");	}};handler.connect();